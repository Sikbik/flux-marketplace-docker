{
  "version": 8,
  "name": "starrupture-flux",
  "description": "StarRupture dedicated server (Wine + SteamCMD, Flux-ready).\n\nBootstrap flow (recommended for marketplace):\n- First boot: connect via StarRupture -> Manage Server, set Admin + Join passwords, create/load a world.\n- After that: password tokens + saves persist in g:/saves (Syncthing primary/standby), so Flux failovers/restarts can auto-load the existing save without repeating Manage Server setup.\n\nNotes:\n- This spec uses two components: `data` provides a larger non-synced /data volume; `server` mounts it via `0:/data` and uses `g:/saves` for the synced SaveGames folder.\n- `SR_CREDENTIALS_WAIT_SECS` only affects automated failover loading (waiting briefly for Syncthing to deliver credentials+saves). It does not prevent you from opening Manage Server later.\n- On an empty /saves, the container intentionally stays in the initial Manage Server state (it does not auto-create a new world).",
  "owner": "YOUR_ZELID_HERE",
  "compose": [
    {
      "name": "data",
      "description": "Local cache volume for Steam/Wine (not synced)",
      "repotag": "alpine:3.20",
      "ports": [],
      "domains": [],
      "environmentParameters": [],
      "commands": [
        "sh",
        "-lc",
        "while true; do sleep 3600; done"
      ],
      "containerPorts": [],
      "containerData": "/data",
      "cpu": 0.1,
      "ram": 200,
      "hdd": 50,
      "repoauth": ""
    },
    {
      "name": "server",
      "description": "StarRupture server. Uses g:/saves for synced SaveGames + password tokens; uses /data for local Steam/Wine cache/install.",
      "repotag": "littlestache/starrupture-flux:latest",
      "ports": [
        7777,
        27015
      ],
      "domains": [
        "",
        ""
      ],
      "environmentParameters": [
        "STEAM_INSTALL_DIR=/data/server",
        "SYNC_SAVES_ONLY=true",
        "SERVER_NAME=RunOnFlux",
        "HARDEN_FLUX_VOLUME_BROWSER=true",
        "SR_CREDENTIALS_WAIT_SECS=300",
        "SR_REMOTE_WAIT_SECS=1800"
      ],
      "commands": [],
      "containerPorts": [
        7777,
        27015
      ],
      "containerData": "g:/saves|0:/data",
      "cpu": 4,
      "ram": 16384,
      "hdd": 2,
      "repoauth": ""
    }
  ],
  "instances": 3,
  "contacts": [],
  "geolocation": [],
  "expire": 22000,
  "nodes": [],
  "staticip": false,
  "enterprise": ""
}

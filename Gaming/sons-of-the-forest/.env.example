# Sons of the Forest Dedicated Server - Example Environment

# SteamCMD / install
AUTO_UPDATE=true
STEAMCMD_VALIDATE=true
STEAMCMD_FORCE_PLATFORM_TYPE=windows
STEAM_INSTALL_DIR=/data/server
STEAMCMD_HOME=/data/steam
STEAMCMD_LOG_FILE=/data/steam/steamcmd.log
STEAMCMD_RESET_ON_MISSING_CONFIG=true
STEAMCMD_RETRY_NO_VALIDATE_ON_FAIL=true
DISK_PREFLIGHT=true
MIN_FREE_GB=30

# Flux hardening (optional)
HARDEN_FLUX_VOLUME_BROWSER=false

# Config management
MANAGE_CONFIG=true
SOTF_CONFIG_APPLY_MODE=always
SOTF_OWNERS_APPLY_MODE=always

# Network / ports
SOTF_IP_ADDRESS=0.0.0.0
SOTF_GAME_PORT=8766
SOTF_QUERY_PORT=27016
SOTF_BLOB_SYNC_PORT=9700
SOTF_SKIP_NETWORK_ACCESSIBILITY_TEST=true

# Server identity & access
SOTF_SERVER_NAME="RunOnFlux - Sons of the Forest"
SOTF_PASSWORD=
SOTF_MAX_PLAYERS=8
SOTF_LAN_ONLY=false

# Save / mode
SOTF_SAVE_SLOT=1
SOTF_SAVE_MODE=Continue
SOTF_GAME_MODE=Normal
SOTF_SAVE_INTERVAL=600

# Performance / logging
SOTF_IDLE_DAY_CYCLE_SPEED=0.0
SOTF_IDLE_TARGET_FRAMERATE=5
SOTF_ACTIVE_TARGET_FRAMERATE=60
SOTF_LOG_FILES_ENABLED=true
SOTF_TIMESTAMP_LOG_FILENAMES=true
SOTF_TIMESTAMP_LOG_ENTRIES=true

# Admins (SteamID64 list)
# SOTF_OWNERS=76561198000000000,76561198000000001
# SOTF_ADMINS=76561198000000000  # alias

# Player/gameplay settings (advanced)
# Key/value mode (comma or newline separated):
# SOTF_GAME_SETTINGS=Gameplay.TreeRegrowth=false,Structure.Damage=true
# SOTF_GAME_MODE=Custom
# SOTF_SAVE_MODE=New
# SOTF_SAVE_SLOT=2
# SOTF_CUSTOM_GAME_MODE_SETTINGS=GameSetting.Vail.EnemySpawn=true,GameSetting.Vail.EnemyHealth=Normal,GameSetting.Environment.DayLength=Default

# Wine / Xvfb
USE_XVFB=true
XVFB_DISPLAY=99
XVFB_ARGS="-screen 0 1024x768x24 -nolisten tcp -ac"
WINEPREFIX=/data/wine/prefix
WINEARCH=win64
WINEDEBUG=-all

# Dedicated server runtime behavior
SOTF_WRITE_STEAM_APPID_TXT=true
SOTF_STEAM_APP_ID=1326470
SOTF_STEAM_GAME_ID=1326470
SOTF_VERBOSE_LOGGING=false
